"use strict";!function e(r,t,n){function a(i,u){if(!t[i]){if(!r[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var l=t[i]={exports:{}};r[i][0].call(l.exports,function(e){var t=r[i][1][e];return a(t||e)},l,l.exports,e,r,t,n)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,r,t){define(["lib-js","jquery","Magento_Ui/js/modal/alert","mage/url","wait-for"],function(e,r,t,n,a){var o=function(e){var r=e.replace(/ /g,"").split("/");return r[0]+"/20"+r[1]},i=function(){r("#btn_cc_br_form_place_order").attr("disabled","disabled")},u=function(){r("#btn_cc_br_form_place_order").removeAttr("disabled")},c=function(e){var r="",t=void 0,n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value;t=parseFloat(Math.round(100*l.localAmountWithTax)/100).toFixed(2),r+="<option value='"+l.instalmentNumber+"' data-local-amount='"+t+"'>"+l.instalmentNumber+"x de R$"+t+" "+(l.hasInterests?"com juros":"")+" </option>"}}catch(e){o=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}a(function(){return document.querySelector("#instalment-cc-br")},function(e){e.innerHTML=""+r})};return{formatDueDate:o,showAlertMessage:function(e,r){t({title:r,content:e})},disableBtnPlaceOrder:i,enableBtnPlaceOrder:u,tokenize:function(t,n){var a=t.number,c=t.expiry,l=t.cvv;if(i(),!function(e){return r(e).validation()&&r(e).validation("isValid")}("#card-form"))return u(),new Promise(function(e){return e(!1)});var s=a.replace(/ /g,""),d=o(c),f=l.replace(/ /g,"");return new Promise(function(r,t){e.config.setMode(window.checkoutConfig.payment.ebanx.mode),e.config.setPublishableKey(window.checkoutConfig.payment.ebanx.publicKey),e.config.setCountry(n),e.card.createToken({card_number:s,card_name:"Magento Credit Card",card_due_date:d,card_cvv:f},function(e){if(u(),e.data&&"SUCCESS"===e.data.status)r(e.data);else{var n=e.error.err.message||e.error.err.status_message;t(n)}})})},createInstalment:c,onUpdateTotalsAndInstalments:function(e,t){r.post(n.build("ebanx/payment/instalmentterms"),{country:t,amount:e},"json").done(function(e){c(e)})}}})},{}]},{},[1]);
//# sourceMappingURL=cc-util.min.js.map
